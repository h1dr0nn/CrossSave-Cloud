var K=Object.defineProperty;var k=t=>{throw TypeError(t)};var Q=(t,e,s)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var U=(t,e,s)=>Q(t,typeof e!="symbol"?e+"":e,s),Y=(t,e,s)=>e.has(t)||k("Cannot "+s);var r=(t,e,s)=>(Y(t,e,"read from private field"),s?s.call(t):e.get(t)),v=(t,e,s)=>e.has(t)?k("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),F=(t,e,s,a)=>(Y(t,e,"write to private field"),a?a.call(t,s):e.set(t,s),s);import{c as x,B as V,C as O,D as W,E as C,F as $,h as D,G as X,H as j,I as ee,J as te,a as se,K as ae,L as re,M as ie,N as ne,O as fe,P as G,Q as H,R as ue,S as ce,T as de,i as I,U as he,V as Z,W as le,X as oe,Y as _e,Z as ve,_ as be,$ as ge,a0 as Se,a1 as pe,k as me,a2 as Ee,a3 as Pe,u as Te,a4 as Ae,a5 as Ie,a6 as Re,a7 as ye,a8 as Oe,a9 as De}from"./CaUR0xkT.js";var l,o,h,b,E,P,R;class Me{constructor(e,s=!0){U(this,"anchor");v(this,l,new Map);v(this,o,new Map);v(this,h,new Map);v(this,b,new Set);v(this,E,!0);v(this,P,()=>{var e=x;if(r(this,l).has(e)){var s=r(this,l).get(e),a=r(this,o).get(s);if(a)V(a),r(this,b).delete(s);else{var f=r(this,h).get(s);f&&(r(this,o).set(s,f.effect),r(this,h).delete(s),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),a=f.effect)}for(const[i,n]of r(this,l)){if(r(this,l).delete(i),i===e)break;const u=r(this,h).get(n);u&&(O(u.effect),r(this,h).delete(n))}for(const[i,n]of r(this,o)){if(i===s||r(this,b).has(i))continue;const u=()=>{if(Array.from(r(this,l).values()).includes(i)){var _=document.createDocumentFragment();j(n,_),_.append(C()),r(this,h).set(i,{effect:n,fragment:_})}else O(n);r(this,b).delete(i),r(this,o).delete(i)};r(this,E)||!a?(r(this,b).add(i),W(n,u,!1)):u()}}});v(this,R,e=>{r(this,l).delete(e);const s=Array.from(r(this,l).values());for(const[a,f]of r(this,h))s.includes(a)||(O(f.effect),r(this,h).delete(a))});this.anchor=e,F(this,E,s)}ensure(e,s){var a=x,f=ee();if(s&&!r(this,o).has(e)&&!r(this,h).has(e))if(f){var i=document.createDocumentFragment(),n=C();i.append(n),r(this,h).set(e,{effect:$(()=>s(n)),fragment:i})}else r(this,o).set(e,$(()=>s(this.anchor)));if(r(this,l).set(a,e),f){for(const[u,c]of r(this,o))u===e?a.skipped_effects.delete(c):a.skipped_effects.add(c);for(const[u,c]of r(this,h))u===e?a.skipped_effects.delete(c.effect):a.skipped_effects.add(c.effect);a.oncommit(r(this,P)),a.ondiscard(r(this,R))}else D&&(this.anchor=X),r(this,P).call(this)}}l=new WeakMap,o=new WeakMap,h=new WeakMap,b=new WeakMap,E=new WeakMap,P=new WeakMap,R=new WeakMap;function Be(t,e,s=!1){D&&se();var a=new Me(t),f=s?ae:0;function i(n,u){if(D){const _=re(t)===ie;if(n===_){var c=ne();fe(c),a.anchor=c,G(!1),a.ensure(n,u),G(!0);return}}a.ensure(n,u)}te(()=>{var n=!1;e((u,c=!0)=>{n=!0,i(c,u)}),n||i(!1,null)},f)}let A=!1,M=Symbol();function ke(t,e,s){var i;const a=(i=s[e])!=null?i:s[e]={store:null,source:ue(void 0),unsubscribe:H};if(a.store!==t&&!(M in s))if(a.unsubscribe(),a.store=t!=null?t:null,t==null)a.source.v=void 0,a.unsubscribe=H;else{var f=!0;a.unsubscribe=ce(t,n=>{f?a.source.v=n:Z(a.source,n)}),f=!1}return t&&M in s?de(t):I(a.source)}function Ue(t,e){return t.set(e),e}function Ye(){const t={};function e(){he(()=>{for(var s in t)t[s].unsubscribe();le(t,M,{enumerable:!1,value:!0})})}return[t,e]}function Ne(t){var e=A;try{return A=!1,[t(),A]}finally{A=e}}function Fe(t,e,s,a){var L,w;var f=!Ae||(s&Ie)!==0,i=(s&Pe)!==0,n=(s&ye)!==0,u=a,c=!0,_=()=>(c&&(c=!1,u=n?Te(a):a),u),S;if(i){var q=Oe in t||De in t;S=(w=(L=oe(t,e))==null?void 0:L.set)!=null?w:q&&e in t?d=>t[e]=d:void 0}var p,N=!1;i?[p,N]=Ne(()=>t[e]):p=t[e],p===void 0&&a!==void 0&&(p=_(),S&&(f&&_e(),S(p)));var g;if(f?g=()=>{var d=t[e];return d===void 0?_():(c=!0,d)}:g=()=>{var d=t[e];return d!==void 0&&(u=void 0),d===void 0?u:d},f&&(s&ve)===0)return g;if(S){var z=t.$$legacy;return(function(d,T){return arguments.length>0?((!f||!T||z||N)&&S(T?g():d),d):g()})}var y=!1,m=((s&Re)!==0?me:Ee)(()=>(y=!1,g()));i&&I(m);var J=Se;return(function(d,T){if(arguments.length>0){const B=T?I(m):f&&i?be(d):d;return Z(m,B),y=!0,u!==void 0&&(u=B),d}return ge&&y||(J.f&pe)!==0?m.v:I(m)})}export{Me as B,ke as a,Ue as b,Be as i,Fe as p,Ye as s};
