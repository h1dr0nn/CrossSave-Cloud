var G=(e,r,a)=>new Promise((n,t)=>{var l=s=>{try{u(a.next(s))}catch(o){t(o)}},i=s=>{try{u(a.throw(s))}catch(o){t(o)}},u=s=>s.done?n(s.value):Promise.resolve(s.value).then(l,i);u((a=a.apply(e,r)).next())});import{O as F,h as S,aa as me,E as Z,a as Ee,J as Ae,i as j,a2 as be,L as Ne,M as we,N as $,P,G as U,ak as Ie,aG as De,ar as ee,c as ke,F as J,I as Se,aT as le,aE as oe,aP as Re,aU as ue,aV as ce,R as ye,ah as re,aW as Oe,B as de,D as Ce,aX as q,aj as _e,aY as Me,aA as Te,aZ as Le,a_ as We,aD as xe,C as He,a$ as Ge,b0 as Be,b1 as Ue,b2 as Ve,b3 as Fe,v as ae,x as W,z as Y,y as x,q as Pe,w as qe}from"./CaUR0xkT.js";import{f as V,a as B,c as Ye}from"./Ddp4388f.js";import"./C4OmZW64.js";import{s as ne,e as te}from"./DRdTxxXw.js";import{p as L,i as z}from"./CrMNZ0Ye.js";import{s as ze}from"./WrrWMfC5.js";function Er(e,r){return r}function Xe(e,r,a){for(var n=[],t=r.length,l=0;l<t;l++)Le(r[l].e,n,!0);We(n,()=>{var i=n.length===0&&a!==null;if(i){var u=a,s=u.parentNode;xe(s),s.append(u),e.items.clear(),k(e,r[0].prev,r[t-1].next)}for(var o=0;o<t;o++){var c=r[o];i||(e.items.delete(c.k),k(e,c.prev,c.next)),He(c.e,!i)}e.first===r[0]&&(e.first=r[0].prev)})}function Ar(e,r,a,n,t,l=null){var i=e,u=new Map,s=null,o=(r&le)!==0,c=(r&ue)!==0,g=(r&ce)!==0;if(o){var h=e;i=S?F(me(h)):h.appendChild(Z())}S&&Ee();var d=null,R=be(()=>{var v=a();return Re(v)?v:v==null?[]:oe(v)}),A,f=!0;function _(){Ze(C,A,i,r,n),d!==null&&(A.length===0?(d.fragment?(i.before(d.fragment),d.fragment=null):de(d.effect),O.first=d.effect):Ce(d.effect,()=>{d=null}))}var O=Ae(()=>{A=j(R);var v=A.length;let M=!1;if(S){var m=Ne(i)===we;m!==(v===0)&&(i=$(),F(i),P(!1),M=!0)}for(var p=new Set,b=ke,I=null,y=Se(),w=0;w<v;w+=1){S&&U.nodeType===Ie&&U.data===De&&(i=U,M=!0,P(!1));var T=A[w],D=n(T,w),N=f?null:u.get(D);N?(c&&ee(N.v,T),g?ee(N.i,w):N.i=w,y&&b.skipped_effects.delete(N.e)):(N=Je(f?i:null,I,T,D,w,t,r,a),f&&(N.o=!0,I===null?s=N:I.next=N,I=N),u.set(D,N)),p.add(D)}if(v===0&&l&&!d)if(f)d={fragment:null,effect:J(()=>l(i))};else{var H=document.createDocumentFragment(),Q=Z();H.append(Q),d={fragment:H,effect:J(()=>l(Q))}}if(S&&v>0&&F($()),!f)if(y){for(const[pe,ge]of u)p.has(pe)||b.skipped_effects.add(ge.e);b.oncommit(_),b.ondiscard(()=>{})}else _();M&&P(!0),j(R)}),C={effect:O,items:u,first:s};f=!1,S&&(i=U)}function Ze(e,r,a,n,t){var y,w,T,D,N;var l=(n&Me)!==0,i=r.length,u=e.items,s=e.first,o,c=null,g,h=[],d=[],R,A,f,_;if(l)for(_=0;_<i;_+=1)R=r[_],A=t(R,_),f=u.get(A),(y=f.a)==null||y.measure(),(g!=null?g:g=new Set).add(f);for(_=0;_<i;_+=1){if(R=r[_],A=t(R,_),f=u.get(A),(w=e.first)!=null||(e.first=f),!f.o){f.o=!0;var O=c?c.next:s;k(e,c,f),k(e,f,O),X(f,O,a),c=f,h=[],d=[],s=c.next;continue}if((f.e.f&q)!==0&&(de(f.e),l&&((T=f.a)==null||T.unfix(),(g!=null?g:g=new Set).delete(f))),f!==s){if(o!==void 0&&o.has(f)){if(h.length<d.length){var C=d[0],v;c=C.prev;var M=h[0],m=h[h.length-1];for(v=0;v<h.length;v+=1)X(h[v],C,a);for(v=0;v<d.length;v+=1)o.delete(d[v]);k(e,M.prev,m.next),k(e,c,M),k(e,m,C),s=C,c=m,_-=1,h=[],d=[]}else o.delete(f),X(f,s,a),k(e,f.prev,f.next),k(e,f,c===null?e.first:c.next),k(e,c,f),c=f;continue}for(h=[],d=[];s!==null&&s.k!==A;)(s.e.f&q)===0&&(o!=null?o:o=new Set).add(s),d.push(s),s=s.next;if(s===null)continue;f=s}h.push(f),c=f,s=f.next}if(s!==null||o!==void 0){for(var p=o===void 0?[]:oe(o);s!==null;)(s.e.f&q)===0&&p.push(s),s=s.next;var b=p.length;if(b>0){var I=(n&le)!==0&&i===0?a:null;if(l){for(_=0;_<b;_+=1)(D=p[_].a)==null||D.measure();for(_=0;_<b;_+=1)(N=p[_].a)==null||N.fix()}Xe(e,p,I)}}l&&_e(()=>{var H;if(g!==void 0)for(f of g)(H=f.a)==null||H.apply()})}function Je(e,r,a,n,t,l,i,u){var s=(i&ue)!==0,o=(i&Oe)===0,c=s?o?ye(a,!1,!1):re(a):a,g=(i&ce)===0?t:re(t),h={i:g,v:c,k:n,a:null,e:null,o:!1,prev:r,next:null};try{if(e===null){var d=document.createDocumentFragment();d.append(e=Z())}return h.e=J(()=>l(e,c,g,u)),r!==null&&(r.next=h),h}finally{}}function X(e,r,a){for(var n=e.next?e.next.e.nodes_start:a,t=r?r.e.nodes_start:a,l=e.e.nodes_start;l!==null&&l!==n;){var i=Te(l);t.before(l),l=i}}function k(e,r,a){r===null?(e.first=a,e.effect.first=a&&a.e):(r.e.next&&(r.e.next.prev=null),r.next=a,r.e.next=a&&a.e),a===null?e.effect.last=r&&r.e:(a.e.prev&&(a.e.prev.next=null),a.prev=r,a.e.prev=r&&r.e)}function ve(e){var r,a,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var t=e.length;for(r=0;r<t;r++)e[r]&&(a=ve(e[r]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}function Ke(){for(var e,r,a=0,n="",t=arguments.length;a<t;a++)(e=arguments[a])&&(r=ve(e))&&(n&&(n+=" "),n+=r);return n}function br(e){return typeof e=="object"?Ke(e):e!=null?e:""}const ie=[..." 	\n\r\fÂ \v\uFEFF"];function Qe(e,r,a){var n=e==null?"":""+e;if(r&&(n=n?n+" "+r:r),a){for(var t in a)if(a[t])n=n?n+" "+t:t;else if(n.length)for(var l=t.length,i=0;(i=n.indexOf(t,i))>=0;){var u=i+l;(i===0||ie.includes(n[i-1]))&&(u===n.length||ie.includes(n[u]))?n=(i===0?"":n.substring(0,i))+n.substring(u+1):i=u}}return n===""?null:n}function je(e,r,a,n,t,l){var i=e.__className;if(S||i!==a||i===void 0){var u=Qe(a,n,l);(!S||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=a}else if(l&&t!==l)for(var s in l){var o=!!l[s];(t==null||o!==!!t[s])&&e.classList.toggle(s,o)}return l}const $e=Symbol("is custom element"),er=Symbol("is html");function Nr(e){if(S){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var n=e.value;K(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var t=e.checked;K(e,"checked",null),e.checked=t}}};e.__on_r=a,_e(a),Fe()}}function K(e,r,a,n){var t=rr(e);S&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[Ge]=a),a==null?e.removeAttribute(r):typeof a!="string"&&ar(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function rr(e){var r;return(r=e.__attributes)!=null?r:e.__attributes={[$e]:e.nodeName.includes("-"),[er]:e.namespaceURI===Be}}var se=new Map;function ar(e){var r=e.getAttribute("is")||e.nodeName,a=se.get(r);if(a)return a;se.set(r,a=[]);for(var n,t=e,l=Element.prototype;l!==t;){n=Ve(t);for(var i in n)n[i].set&&a.push(i);t=Ue(t)}return a}var nr=V('<button class="icon-button" aria-label="Open navigation menu"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"></path></svg></button>'),tr=V('<button class="icon-button" aria-label="Go back"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M14.5 6 8.5 12l6 6" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"></path></svg></button>'),ir=V('<p class="eyebrow svelte-1ae7b3d"> </p>'),sr=V('<header><div class="leading svelte-1ae7b3d"><!> <div class="titles svelte-1ae7b3d"><!> <h1 class="svelte-1ae7b3d"> </h1></div></div> <div class="actions svelte-1ae7b3d"><!></div></header>');function wr(e,r){let a=L(r,"title",8,""),n=L(r,"eyebrow",8,""),t=L(r,"showMenu",8,!1),l=L(r,"showBack",8,!1),i=L(r,"onMenu",8),u=L(r,"onBack",8),s=L(r,"sticky",8,!0);var o=sr();let c;var g=W(o),h=W(g);{var d=m=>{var p=nr();te("click",p,function(...b){var I;(I=i())==null||I.apply(this,b)}),B(m,p)},R=m=>{var p=Ye(),b=Pe(p);{var I=y=>{var w=tr();te("click",w,function(...T){var D;(D=u())==null||D.apply(this,T)}),B(y,w)};z(b,y=>{l()&&y(I)},!0)}B(m,p)};z(h,m=>{t()?m(d):m(R,!1)})}var A=Y(h,2),f=W(A);{var _=m=>{var p=ir(),b=W(p,!0);x(p),ae(()=>ne(b,n())),B(m,p)};z(f,m=>{n()&&m(_)})}var O=Y(f,2),C=W(O,!0);x(O),x(A),x(g);var v=Y(g,2),M=W(v);ze(M,r,"actions",{}),x(v),x(o),ae(()=>{c=je(o,1,"app-header svelte-1ae7b3d",null,c,{sticky:s()}),K(o,"aria-label",a()),ne(C,a())}),B(e,o)}function fr(e,r=!1){return window.__TAURI_INTERNALS__.transformCallback(e,r)}function E(n){return G(this,arguments,function*(e,r={},a){return window.__TAURI_INTERNALS__.invoke(e,r,a)})}var fe;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(fe||(fe={}));function lr(e,r){return G(this,null,function*(){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,r),yield E("plugin:event|unlisten",{event:e,eventId:r})})}function or(e,r,a){return G(this,null,function*(){var n;const t=(n=void 0)!==null&&n!==void 0?n:{kind:"Any"};return E("plugin:event|listen",{event:e,target:t,handler:fr(r)}).then(l=>()=>G(null,null,function*(){return lr(e,l)}))})}function Ir(e,r){return E("package_game",{emulator_id:e,game_id:r})}function Dr(e){return or("watcher://fs-event",r=>e(r.payload,r))}function kr(){return E("list_profiles")}function Sr(e){return E("save_profile",{profile:e})}function Rr(e){return E("delete_profile",{emulator_id:e})}function yr(e){return E("list_history",{game_id:e})}function Or(e,r){return E("rollback_version",{game_id:e,version_id:r})}function Cr(e,r){return E("delete_history_item",{game_id:e,version_id:r})}function Mr(){return E("get_app_settings")}function Tr(e){return E("update_app_settings",{settings:e})}function Lr(){return E("get_storage_info")}function Wr(){return E("clear_history_cache")}function xr(e){return E("scan_save_files",{emulatorId:e})}function Hr(e){return E("open_folder",{path:e})}let ur=0;const cr=qe([]);function he(e,r){const a={id:++ur,level:e,message:r,timestamp:Date.now()};cr.update(n=>[a,...n].slice(0,100))}function Gr(e){he("error",e)}function Br(e){he("info",e)}export{wr as A,je as a,Br as b,Wr as c,Rr as d,Sr as e,Mr as f,Lr as g,Ar as h,E as i,Er as j,br as k,kr as l,Or as m,Cr as n,Dr as o,Gr as p,Ir as q,Nr as r,K as s,yr as t,Tr as u,Hr as v,xr as w};
